(function(){var a=window.AmCharts;a.GaugeAxis=a.Class({construct:function(b){this.cname="GaugeAxis";this.radius="95%";this.createEvents("rollOverBand","rollOutBand","clickBand");this.labelsEnabled=!0;this.startAngle=-120;this.endAngle=120;this.startValue=0;this.endValue=200;this.gridCount=5;this.tickLength=10;this.minorTickLength=5;this.tickColor="#555555";this.labelFrequency=this.tickThickness=this.tickAlpha=1;this.inside=!0;this.labelOffset=10;this.showLastLabel=this.showFirstLabel=!0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridInside=!0;this.topTextYOffset=0;this.topTextBold=!0;this.bottomTextYOffset=0;this.bottomTextBold=!0;this.centerY=this.centerX="0%";this.bandOutlineAlpha=this.bandOutlineThickness=0;this.bandOutlineColor="#000000";this.bandAlpha=1;this.bcn="gauge-axis";a.applyTheme(this,b,"GaugeAxis")},value2angle:function(b){return(b-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(f){if(void 0!==f){this.topText=f;var d=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var h=this.topTextFontSize;h||(h=d.fontSize);var g=this.topTextColor;g||(g=d.color);f=a.text(d.container,f,g,d.fontFamily,h,void 0,this.topTextBold);a.setCN(d,f,"axis-top-label");f.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset);this.set.push(f);this.topTF=f}}},setBottomText:function(f){if(void 0!==f){this.bottomText=f;var d=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var h=this.bottomTextFontSize;h||(h=d.fontSize);var g=this.bottomTextColor;g||(g=d.color);f=a.text(d.container,f,g,d.fontFamily,h,void 0,this.bottomTextBold);a.setCN(d,f,"axis-bottom-label");f.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset);this.bottomTF=f;this.set.push(f)}}},draw:function(){var an=this.chart,am=an.container.set();this.set=am;a.setCN(an,am,this.bcn);a.setCN(an,am,this.bcn+"-"+this.id);an.graphsSet.push(am);this.bandSet=an.container.set();this.set.push(this.bandSet);var al=this.startValue,ak=this.endValue,ai=this.valueInterval;isNaN(ai)&&(ai=(ak-al)/this.gridCount);var af=this.minorTickInterval;isNaN(af)&&(af=ai/5);var ad=this.startAngle,ah=this.endAngle,ag=this.tickLength,ac=(ak-al)/ai+1,aj=(ah-ad)/(ac-1);this.singleValueAngle=aj/ai;var ae=an.container,P=this.tickColor,j=this.tickAlpha,s=this.tickThickness,af=ai/af,i=aj/af,O=this.minorTickLength,N=this.labelFrequency,R=this.radiusReal;this.inside||(R-=15);this.radiusRealReal=R;var ab=an.centerX+a.toCoordinate(this.centerX,an.realWidth),aa=an.centerY+a.toCoordinate(this.centerY,an.realHeight);this.centerXReal=ab;this.centerYReal=aa;var V={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},Y,X;this.gridInside?X=Y=R:(Y=R-ag,X=Y+O);this.minorTickRadius=X;this.drawBands();var Z=this.axisThickness/2,ah=a.wedge(ae,ab,aa,ad,ah-ad,Y+Z,Y+Z,Y-Z,0,V);a.setCN(an,ah.wedge,"axis-line");am.push(ah);ah=a.doNothing;a.isModern||(ah=Math.round);V=a.getDecimals(al);Y=a.getDecimals(ak);ak=a.getDecimals(ai);ak=Math.max(ak,V,Y);ai=a.roundTo(ai,ak+1);for(V=0;V<ac;V++){Z=a.roundTo(al+V*ai,ak);Y=ad+V*aj;var T=ah(ab+R*Math.sin(Y/180*Math.PI)),S=ah(aa-R*Math.cos(Y/180*Math.PI)),M=ah(ab+(R-ag)*Math.sin(Y/180*Math.PI)),o=ah(aa-(R-ag)*Math.cos(Y/180*Math.PI)),T=a.line(ae,[T,M],[S,o],P,j,s,0,!1,!1,!0);a.setCN(an,T,"axis-tick");am.push(T);T=-1;M=this.labelOffset;this.inside||(M=-M-ag,T=1);var S=ab+(R-ag-M)*Math.sin(Y/180*Math.PI),M=aa-(R-ag-M)*Math.cos(Y/180*Math.PI),W=this.fontSize;isNaN(W)&&(W=an.fontSize);var o=Math.sin((Y-90)/180*Math.PI),d=Math.cos((Y-90)/180*Math.PI);if(0<N&&this.labelsEnabled&&V/N==Math.round(V/N)&&(this.showLastLabel||V!=ac-1)&&(this.showFirstLabel||0!==V)){var U;U=this.usePrefixes?a.addPrefix(Z,an.prefixesOfBigNumbers,an.prefixesOfSmallNumbers,an.nf,!0):a.formatNumber(Z,an.nf,ak);var Q=this.unit;Q&&(U="left"==this.unitPosition?Q+U:U+Q);(Q=this.labelFunction)&&(U=Q(Z));Z=this.color;void 0===Z&&(Z=an.color);Z=a.text(ae,U,Z,an.fontFamily,W);a.setCN(an,Z,"axis-label");W=Z.getBBox();Z.translate(S+T*W.width/2*d,M+T*W.height/2*o);am.push(Z)}if(V<ac-1){for(Z=1;Z<af;Z++){o=Y+i*Z,T=ah(ab+X*Math.sin(o/180*Math.PI)),S=ah(aa-X*Math.cos(o/180*Math.PI)),M=ah(ab+(X-O)*Math.sin(o/180*Math.PI)),o=ah(aa-(X-O)*Math.cos(o/180*Math.PI)),T=a.line(ae,[T,M],[S,o],P,j,s,0,!1,!1,!0),a.setCN(an,T,"axis-tick-minor"),am.push(T)}}}this.axisCreated=!0;this.setTopText(this.topText);this.setBottomText(this.bottomText);an=an.graphsSet.getBBox();this.width=an.width;this.height=an.height},drawBands:function(){var e=this.bands;if(e){for(var d=0;d<e.length;d++){var f=e[d];f&&(f.axis=this,a.processObject(f,a.GaugeBand,this.theme),f.draw(f.startValue,f.endValue))}}},fireEvent:function(e,d,f){this.fire({type:e,dataItem:d,chart:this,event:f})},addEventListeners:function(f,d){var h=this,g=h.chart;f.mouseover(function(b){g.showBalloon(d.balloonText,d.color,!0);h.fireEvent("rollOverBand",d,b)}).mouseout(function(b){g.hideBalloon();h.fireEvent("rollOutBand",d,b)}).click(function(b){h.fireEvent("clickBand",d,b);a.getURL(d.url,g.urlTarget)}).touchend(function(b){h.fireEvent("clickBand",d,b);a.getURL(d.url,g.urlTarget)})}})})();(function(){var a=window.AmCharts;a.GaugeArrow=a.Class({construct:function(b){this.cname="GaugeArrow";this.color="#000000";this.nailAlpha=this.alpha=1;this.startWidth=this.nailRadius=8;this.endWidth=0;this.borderAlpha=1;this.radius="90%";this.nailBorderAlpha=this.innerRadius=0;this.nailBorderThickness=1;this.frame=0;a.applyTheme(this,b,"GaugeArrow")},setValue:function(d){var c=this.chart;c?c.setValue?c.setValue(this,d):this.previousValue=this.value=d:this.previousValue=this.value=d}});a.GaugeBand=a.Class({construct:function(){this.cname="GaugeBand";this.frame=0},draw:function(y,x){var v=this.axis;this.bandGraphics&&this.bandGraphics.remove();var u=v.chart,s=v.startAngle,o=v.radiusRealReal,i=v.singleValueAngle,r=u.container,q=v.minorTickLength,d=a.toCoordinate(this.radius,o);isNaN(d)&&(d=v.minorTickRadius);o=a.toCoordinate(this.innerRadius,o);isNaN(o)&&(o=d-q);var s=s+i*(y-v.startValue),q=i*(x-y),t=this.outlineColor;void 0===t&&(t=v.bandOutlineColor);var j=this.outlineThickness;isNaN(j)&&(j=v.bandOutlineThickness);var z=this.outlineAlpha;isNaN(z)&&(z=v.bandOutlineAlpha);i=this.alpha;isNaN(i)&&(i=v.bandAlpha);t={fill:this.color,stroke:t,"stroke-width":j,"stroke-opacity":z};this.url&&(t.cursor="pointer");j=this.gradientRatio;j||(j=v.bandGradientRatio);r=a.wedge(r,v.centerXReal,v.centerYReal,s,q,d,d,o,0,t,j,void 0,void 0,"radial");a.setCN(u,r.wedge,"axis-band");void 0!==this.id&&a.setCN(u,r.wedge,"axis-band-"+this.id);r.setAttr("opacity",i);v.bandSet.push(r);this.bandGraphics=r;this.currentStartValue=y;this.currentEndValue=x;v.addEventListeners(r,this)},update:function(){var e=this.axis,d=e.chart;if(e&&e.value2angle){if(this.frame>=d.totalFrames){d=this.endValue,e=this.startValue}else{this.frame++;var f=a.getEffect(d.startEffect),e=a[f](0,this.frame,this.previousStartValue,this.startValue-this.previousStartValue,d.totalFrames),d=a[f](0,this.frame,this.previousEndValue,this.endValue-this.previousEndValue,d.totalFrames);isNaN(e)&&(e=this.startValue);isNaN(d)&&(d=this.endValue)}e==this.currentStartValue&&d==this.currentEndValue||this.draw(e,d)}},setStartValue:function(b){this.previousStartValue=this.startValue;this.startValue=b;this.frame=0},setEndValue:function(b){this.previousEndValue=this.endValue;this.endValue=b;this.frame=0}})})();(function(){var a=window.AmCharts;a.AmAngularGauge=a.Class({inherits:a.AmChart,construct:function(b){this.cname="AmAngularGauge";a.AmAngularGauge.base.construct.call(this,b);this.theme=b;this.type="gauge";this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10;this.faceColor="#FAFAFA";this.faceAlpha=0;this.faceBorderWidth=1;this.faceBorderColor="#555555";this.faceBorderAlpha=0;this.arrows=[];this.axes=[];this.startDuration=1;this.startEffect="easeOutSine";this.adjustSize=!0;this.extraHeight=this.extraWidth=0;a.applyTheme(this,b,this.cname)},addAxis:function(b){b.chart=this;this.axes.push(b)},formatString:function(d,c){return d=a.formatValue(d,c,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){a.AmAngularGauge.base.initChart.call(this);var f;0===this.axes.length&&(f=new a.GaugeAxis(this.theme),this.addAxis(f));var d;for(d=0;d<this.axes.length;d++){f=this.axes[d],f=a.processObject(f,a.GaugeAxis,this.theme),f.id||(f.id="axisAuto"+d+"_"+(new Date).getTime()),f.chart=this,this.axes[d]=f}var h=this.arrows;for(d=0;d<h.length;d++){f=h[d];f=a.processObject(f,a.GaugeArrow,this.theme);f.id||(f.id="arrowAuto"+d+"_"+(new Date).getTime());f.chart=this;h[d]=f;var g=f.axis;a.isString(g)&&(f.axis=a.getObjById(this.axes,g));f.axis||(f.axis=this.axes[0]);isNaN(f.value)&&f.setValue(f.axis.startValue);isNaN(f.previousValue)&&(f.previousValue=f.axis.startValue)}this.setLegendData(h);this.drawChart();this.totalFrames=this.startDuration*a.updateRate},drawChart:function(){a.AmAngularGauge.base.drawChart.call(this);var v=this.container,u=this.updateWidth();this.realWidth=u;var t=this.updateHeight();this.realHeight=t;var s=a.toCoordinate,q=s(this.marginLeft,u),j=s(this.marginRight,u),i=s(this.marginTop,t)+this.getTitleHeight(),o=s(this.marginBottom,t),m=s(this.radius,u,t),s=u-q-j,d=t-i-o+this.extraHeight;m||(m=Math.min(s,d)/2);m<this.minRadius&&(m=this.minRadius);this.radiusReal=m;this.centerX=(u-q-j)/2+q;this.centerY=(t-i-o)/2+i+this.extraHeight/2;isNaN(this.gaugeX)||(this.centerX=this.gaugeX);isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var u=this.faceAlpha,t=this.faceBorderAlpha,r;if(0<u||0<t){r=a.circle(v,m,this.faceColor,u,this.faceBorderWidth,this.faceBorderColor,t,!1),r.translate(this.centerX,this.centerY),r.toBack(),(v=this.facePattern)&&r.pattern(v,NaN,this.path)}for(u=m=v=0;u<this.axes.length;u++){t=this.axes[u],q=t.radius,t.radiusReal=a.toCoordinate(q,this.radiusReal),t.draw(),j=1,-1!==String(q).indexOf("%")&&(j=1+(100-Number(q.substr(0,q.length-1)))/100),t.width*j>v&&(v=t.width*j),t.height*j>m&&(m=t.height*j)}(u=this.legend)&&u.invalidateSize();if(this.adjustSize&&!this.sizeAdjusted){r&&(r=r.getBBox(),r.width>v&&(v=r.width),r.height>m&&(m=r.height));r=0;if(d>m||s>v){r=Math.min(d-m,s-v)}5<r&&(this.extraHeight=r,this.sizeAdjusted=!0,this.validateNow())}s=this.arrows.length;for(u=0;u<s;u++){d=this.arrows[u],d.drawnAngle=NaN}this.dispDUpd()},validateSize:function(){this.extraHeight=this.extraWidth=0;this.chartCreated=this.sizeAdjusted=!1;a.AmAngularGauge.base.validateSize.call(this)},addArrow:function(b){this.arrows.push(b)},removeArrow:function(b){a.removeFromArray(this.arrows,b);this.validateNow()},removeAxis:function(b){a.removeFromArray(this.axes,b);this.validateNow()},drawArrow:function(A,y){A.set&&A.set.remove();var x=this.container;A.set=x.set();a.setCN(this,A.set,"gauge-arrow");a.setCN(this,A.set,"gauge-arrow-"+A.id);var u=A.axis,s=u.radiusReal,o=u.centerXReal,i=u.centerYReal,r=A.startWidth,q=A.endWidth,d=a.toCoordinate(A.innerRadius,u.radiusReal),t=a.toCoordinate(A.radius,u.radiusReal);u.inside||(t-=15);var j=A.nailColor;j||(j=A.color);var B=A.nailColor;B||(B=A.color);0<A.nailRadius&&(j=a.circle(x,A.nailRadius,j,A.nailAlpha,A.nailBorderThickness,j,A.nailBorderAlpha),a.setCN(this,j,"gauge-arrow-nail"),A.set.push(j),j.translate(o,i));isNaN(t)&&(t=s-u.tickLength);var u=Math.sin(y/180*Math.PI),s=Math.cos(y/180*Math.PI),j=Math.sin((y+90)/180*Math.PI),v=Math.cos((y+90)/180*Math.PI),x=a.polygon(x,[o-r/2*j+d*u,o+t*u-q/2*j,o+t*u+q/2*j,o+r/2*j+d*u],[i+r/2*v-d*s,i-t*s+q/2*v,i-t*s-q/2*v,i-r/2*v-d*s],A.color,A.alpha,1,B,A.borderAlpha,void 0,!0);a.setCN(this,x,"gauge-arrow");A.set.push(x);this.graphsSet.push(A.set);A.hidden&&this.hideArrow(A)},setValue:function(e,d){e.axis&&e.axis.value2angle&&(e.frame=0,e.previousValue=e.value);e.value=d;var f=this.legend;f&&f.updateValues();this.accessible&&this.background&&this.makeAccessible(this.background,d)},handleLegendEvent:function(d){var c=d.type;d=d.dataItem;if(!this.legend.data&&d){switch(c){case"hideItem":this.hideArrow(d);break;case"showItem":this.showArrow(d)}}},hideArrow:function(b){b.set.hide();b.hidden=!0;this.legend&&this.legend.invalidateSize()},showArrow:function(b){b.set.show();b.hidden=!1;this.legend&&this.legend.invalidateSize()},updateAnimations:function(){a.AmAngularGauge.base.updateAnimations.call(this);for(var f=this.arrows.length,d,j,i=0;i<f;i++){d=this.arrows[i],d.axis&&d.axis.value2angle&&(d.frame>=this.totalFrames?j=d.value:(d.frame++,d.clockWiseOnly&&d.value<d.previousValue&&(j=d.axis,d.previousValue-=j.endValue-j.startValue),j=a.getEffect(this.startEffect),j=a[j](0,d.frame,d.previousValue,d.value-d.previousValue,this.totalFrames),isNaN(j)&&(j=d.value)),j=d.axis.value2angle(j),d.drawnAngle!=j&&(this.drawArrow(d,j),d.drawnAngle=j))}f=this.axes;for(d=f.length-1;0<=d;d--){if(j=f[d],j.bands){for(i=j.bands.length-1;0<=i;i--){var h=j.bands[i];h.update&&h.update()}}}}})})();(function(){var a=window.AmCharts;a.AmRectangularChart=a.Class({inherits:a.AmCoordinateChart,construct:function(b){a.AmRectangularChart.base.construct.call(this,b);this.theme=b;this.createEvents("zoomed","changed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.depth3D=this.angle=0;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.maxZoomFactor=20;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;a.applyTheme(this,b,"AmRectangularChart")},initChart:function(){a.AmRectangularChart.base.initChart.call(this);this.updateDxy();!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();this.scrollbarOnly||this.updateGraphs()},drawChart:function(){a.AmRectangularChart.base.drawChart.call(this);this.drawPlotArea();if(a.ifArray(this.chartData)){var b=this.chartCursor;b&&b.draw()}},resetMargins:function(){var f={},e;if("xy"==this.type){var j=this.xAxes,i=this.yAxes;for(e=0;e<j.length;e++){var h=j[e];h.ignoreAxisWidth||(h.setOrientation(!0),h.fixAxisPosition(),f[h.position]=!0)}for(e=0;e<i.length;e++){j=i[e],j.ignoreAxisWidth||(j.setOrientation(!1),j.fixAxisPosition(),f[j.position]=!0)}}else{i=this.valueAxes;for(e=0;e<i.length;e++){j=i[e],j.ignoreAxisWidth||(j.setOrientation(this.rotate),j.fixAxisPosition(),f[j.position]=!0)}(e=this.categoryAxis)&&!e.ignoreAxisWidth&&(e.setOrientation(!this.rotate),e.fixAxisPosition(),e.fixAxisPosition(),f[e.position]=!0)}f.left&&(this.marginLeft=0);f.right&&(this.marginRight=0);f.top&&(this.marginTop=0);f.bottom&&(this.marginBottom=0);this.fixMargins=f},measureMargins:function(){var t=this.valueAxes,s,r=this.autoMarginOffset,q=this.fixMargins,n=this.realWidth,k=this.realHeight,o=r,p=r,j=n;s=k;var i;for(i=0;i<t.length;i++){t[i].handleSynchronization(),s=this.getAxisBounds(t[i],o,j,p,s),o=Math.round(s.l),j=Math.round(s.r),p=Math.round(s.t),s=Math.round(s.b)}if(t=this.categoryAxis){s=this.getAxisBounds(t,o,j,p,s),o=Math.round(s.l),j=Math.round(s.r),p=Math.round(s.t),s=Math.round(s.b)}q.left&&o<r&&(this.marginLeft=Math.round(-o+r),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft));q.right&&j>=n-r&&(this.marginRight=Math.round(j-n+r),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight));q.top&&p<r+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-p+r+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop));q.bottom&&s>k-r&&(this.marginBottom=Math.round(this.marginBottom+s-k+r),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom));this.initChart()},getAxisBounds:function(i,e,n,m,k){if(!i.ignoreAxisWidth){var j=i.labelsSet,l=i.tickLength;i.inside&&(l=0);if(j){switch(j=i.getBBox(),i.position){case"top":i=j.y;m>i&&(m=i);break;case"bottom":i=j.y+j.height;k<i&&(k=i);break;case"right":i=j.x+j.width+l+3;n<i&&(n=i);break;case"left":i=j.x-l,e>i&&(e=i)}}}return{l:e,t:m,r:n,b:k}},drawZoomOutButton:function(){var y=this;if(!y.zbSet){var x=y.container.set();y.zoomButtonSet.push(x);var w=y.color,v=y.fontSize,s=y.zoomOutButtonImageSize,r=y.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),t=y.langObj.zoomOutText||y.zoomOutText,q=y.zoomOutButtonColor,o=y.zoomOutButtonAlpha,j=y.zoomOutButtonFontSize,e=y.zoomOutButtonPadding;isNaN(j)||(v=j);(j=y.zoomOutButtonFontColor)&&(w=j);var j=y.zoomOutButton,i;j&&(j.fontSize&&(v=j.fontSize),j.color&&(w=j.color),j.backgroundColor&&(q=j.backgroundColor),isNaN(j.backgroundAlpha)||(y.zoomOutButtonRollOverAlpha=j.backgroundAlpha));var z=j=0,z=y.pathToImages;if(r){if(a.isAbsolute(r)||void 0===z){z=""}i=y.container.image(z+r+y.extension,0,0,s,s);a.setCN(y,i,"zoom-out-image");x.push(i);i=i.getBBox();j=i.width+5}void 0!==t&&(w=a.text(y.container,t,w,y.fontFamily,v,"start"),a.setCN(y,w,"zoom-out-label"),v=w.getBBox(),z=i?i.height/2-3:v.height/2,w.translate(j,z),x.push(w));i=x.getBBox();w=1;a.isModern||(w=0);q=a.rect(y.container,i.width+2*e+5,i.height+2*e-2,q,1,1,q,w);q.setAttr("opacity",o);q.translate(-e,-e);a.setCN(y,q,"zoom-out-bg");x.push(q);q.toBack();y.zbBG=q;i=q.getBBox();x.translate(y.marginLeftReal+y.plotAreaWidth-i.width+e,y.marginTopReal+e);x.hide();x.mouseover(function(){y.rollOverZB()}).mouseout(function(){y.rollOutZB()}).click(function(){y.clickZB()}).touchstart(function(){y.rollOverZB()}).touchend(function(){y.rollOutZB();y.clickZB()});for(o=0;o<x.length;o++){x[o].attr({cursor:"pointer"})}void 0!==y.zoomOutButtonTabIndex&&(x.setAttr("tabindex",y.zoomOutButtonTabIndex),x.setAttr("role","menuitem"),x.keyup(function(c){13==c.keyCode&&y.clickZB()}));y.zbSet=x}},rollOverZB:function(){this.rolledOverZB=!0;this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1;this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1;this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,s=this.dy,r=this.marginLeftReal,q=this.marginTopReal,o=this.plotAreaWidth-1,n=this.plotAreaHeight-1,p=this.plotAreaFillColors,j=this.plotAreaFillAlphas,i=this.plotAreaBorderColor,e=this.plotAreaBorderAlpha;"object"==typeof j&&(j=j[0]);p=a.polygon(this.container,[0,o,o,0,0],[0,0,n,n,0],p,j,1,i,e,this.plotAreaGradientAngle);a.setCN(this,p,"plot-area");p.translate(r+t,q+s);this.set.push(p);0!==t&&0!==s&&(p=this.plotAreaFillColors,"object"==typeof p&&(p=p[0]),p=a.adjustLuminosity(p,-0.15),o=a.polygon(this.container,[0,t,o+t,o,0],[0,s,s,0,0],p,j,1,i,e),a.setCN(this,o,"plot-area-bottom"),o.translate(r,q+n),this.set.push(o),t=a.polygon(this.container,[0,0,t,t,0],[0,n,n+s,s,0],p,j,1,i,e),a.setCN(this,t,"plot-area-left"),t.translate(r,q),this.set.push(t));(r=this.bbset)&&this.scrollbarOnly&&r.remove()},updatePlotArea:function(){var f=this.updateWidth(),e=this.updateHeight(),h=this.container;this.realWidth=f;this.realWidth=e;h&&this.container.setSize(f,e);var h=this.marginLeftReal,g=this.marginTopReal,f=f-h-this.marginRightReal-this.dx,e=e-g-this.marginBottomReal;1>f&&(f=1);1>e&&(e=1);this.plotAreaWidth=Math.round(f);this.plotAreaHeight=Math.round(e);this.plotBalloonsSet.translate(h,g)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var b=this.getTitleHeight();this.titleHeight=b;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=b);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){var e=this.valueAxes,d;for(d=0;d<e.length;d++){var f=e[d];this.setAxisRenderers(f);this.updateObjectSize(f)}},setAxisRenderers:function(b){b.axisRenderer=a.RecAxis;b.guideFillRenderer=a.RecFill;b.axisItemRenderer=a.RecItem;b.marginsChanged=!0},updateGraphs:function(){var e=this.graphs,d;for(d=0;d<e.length;d++){var f=e[d];f.index=d;f.rotate=this.rotate;this.updateObjectSize(f)}},updateObjectSize:function(b){b.width=this.plotAreaWidth-1;b.height=this.plotAreaHeight-1;b.x=this.marginLeftReal;b.y=this.marginTopReal;b.dx=this.dx;b.dy=this.dy},updateChartCursor:function(){var b=this.chartCursor;b&&(b=a.processObject(b,a.ChartCursor,this.theme),this.updateObjectSize(b),this.addChartCursor(b),b.chart=this)},processScrollbars:function(){var b=this.chartScrollbar;b&&(b=a.processObject(b,a.ChartScrollbar,this.theme),this.addChartScrollbar(b))},updateScrollbars:function(){},removeChartCursor:function(){a.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){var e=this.trendLines,d;for(d=0;d<e.length;d++){var f=e[d];f.valueAxis.recalculateToPercents?f.set&&f.set.hide():(f.x=this.marginLeftReal,f.y=this.marginTopReal,f.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(b){this.trendLines.push(b)},zoomOutValueAxes:function(){for(var d=this.valueAxes,c=0;c<d.length;c++){d[c].zoomOut()}},removeTrendLine:function(e){var d=this.trendLines,f;for(f=d.length-1;0<=f;f--){d[f]==e&&d.splice(f,1)}},adjustMargins:function(f,e){var h=f.position,g=f.scrollbarHeight+f.offset;f.enabled&&("top"==h?e?this.marginLeftReal+=g:this.marginTopReal+=g:e?this.marginRightReal+=g:this.marginBottomReal+=g)},getScrollbarPosition:function(f,e,j){var i="bottom",h="top";f.oppositeAxis||(h=i,i="top");f.position=e?"bottom"==j||"left"==j?i:h:"top"==j||"right"==j?i:h},updateChartScrollbar:function(j,i){if(j){j.rotate=i;var p=this.marginTopReal,o=this.marginLeftReal,l=j.scrollbarHeight,k=this.dx,m=this.dy,n=j.offset;"top"==j.position?i?(j.y=p,j.x=o-l-n):(j.y=p-l+m-n,j.x=o+k):i?(j.y=p+m,j.x=o+this.plotAreaWidth+k+n):(j.y=p+this.plotAreaHeight+n,j.x=this.marginLeftReal)}},showZB:function(d){var c=this.zbSet;d&&(c=this.zoomOutText,""!==c&&c&&this.drawZoomOutButton());if(c=this.zbSet){this.zoomButtonSet.push(c),d?c.show():c.hide(),this.rollOutZB()}},handleReleaseOutside:function(b){a.AmRectangularChart.base.handleReleaseOutside.call(this,b);(b=this.chartCursor)&&b.handleReleaseOutside&&b.handleReleaseOutside()},handleMouseDown:function(d){a.AmRectangularChart.base.handleMouseDown.call(this,d);var c=this.chartCursor;c&&c.handleMouseDown&&!this.rolledOverZB&&c.handleMouseDown(d)},update:function(){a.AmRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(b){this.relativeZoomValueAxes(b.target.valueAxes,b.relativeStart,b.relativeEnd);this.zoomAxesAndGraphs()},zoomValueScrollbar:function(f){if(f&&f.enabled){var e=f.valueAxes[0],h=e.relativeStart,g=e.relativeEnd;e.reversed&&(g=1-h,h=1-e.relativeEnd);f.percentZoom(h,g)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var d=this.valueAxes,c;for(c=0;c<d.length;c++){d[c].zoom(this.start,this.end)}d=this.graphs;for(c=0;c<d.length;c++){d[c].zoom(this.start,this.end)}(c=this.chartCursor)&&c.clearSelection();this.zoomTrendLines()}},handleValueAxisZoomReal:function(f,e){var j=f.relativeStart,i=f.relativeEnd;if(j>i){var h=j,j=i,i=h}this.relativeZoomValueAxes(e,j,i);this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar()},relativeZoomValueAxes:function(f,e,l){this.hideBalloonReal();e=a.fitToBounds(e,0,1);l=a.fitToBounds(l,0,1);if(e>l){var k=e;e=l;l=k}var k=1/this.maxZoomFactor,j=a.getDecimals(k)+4;l-e<k&&(l=e+(l-e)/2,e=l-k/2,l+=k/2,1<l&&(e-=l-1,l=1),0>e&&(e=0,l=k));e=a.roundTo(e,j);l=a.roundTo(l,j);k=!1;if(f){for(j=0;j<f.length;j++){var i=f[j].zoomToRelativeValues(e,l,!0);i&&(k=i)}this.showZB()}return k},addChartCursor:function(b){a.callMethod("destroy",[this.chartCursor]);b&&(this.listenTo(b,"moved",this.handleCursorMove),this.listenTo(b,"zoomed",this.handleCursorZoom),this.listenTo(b,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(b,"panning",this.handleCursorPanning),this.listenTo(b,"onHideCursor",this.handleCursorHide));this.chartCursor=b},handleCursorChange:function(){},handleCursorMove:function(f){var e,h=this.valueAxes;for(e=0;e<h.length;e++){if(!f.panning){var g=h[e];g&&g.showBalloon&&g.showBalloon(f.x,f.y)}}},handleCursorZoom:function(r){if(this.skipZoomed){this.skipZoomed=!1}else{var q=this.startX0,p=this.endX0,o=this.endY0,k=this.startY0,j=r.startX,m=r.endX,n=r.startY,i=r.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN;this.handleCursorZoomReal(q+j*(p-q),q+m*(p-q),k+n*(o-k),k+i*(o-k),r)}},handleCursorHide:function(){var d,c=this.valueAxes;for(d=0;d<c.length;d++){c[d].hideBalloon()}c=this.graphs;for(d=0;d<c.length;d++){c[d].hideBalloonReal()}}})})();(function(){var a=window.AmCharts;a.AmSerialChart=a.Class({inherits:a.AmRectangularChart,construct:function(d){this.type="serial";a.AmSerialChart.base.construct.call(this,d);this.cname="AmSerialChart";this.theme=d;this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=0.8;var c=new a.CategoryAxis(d);c.chart=this;this.categoryAxis=c;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;a.applyTheme(this,d,this.cname)},initChart:function(){a.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis");if(this.dataChanged){this.parseData()}else{this.onDataUpdated()}this.drawGraphs=!0},onDataUpdated:function(){var f=this.countColumns(),e=this.chartData,j=this.graphs,i;for(i=0;i<j.length;i++){var h=j[i];h.data=e;h.columnCount=f}0<e.length&&(this.firstTime=this.getStartTime(e[0].time),this.lastTime=this.getEndTime(e[e.length-1].time));this.drawChart();this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var i=this.valueAxes,e,n;if(0<i.length){var m=0;for(n=0;n<i.length;n++){e=i[n],m<e.gridCountReal&&(m=e.gridCountReal)}var k=!1;for(n=0;n<i.length;n++){if(e=i[n],e.gridCountReal<m){var j=(m-e.gridCountReal)/2,l=k=j;0!==j-Math.round(j)&&(k-=0.5,l+=0.5);0<=e.min&&0>e.min-k*e.step&&(l+=k,k=0);0>=e.max&&0<e.max+l*e.step&&(k+=l,l=0);j=a.getDecimals(e.step);e.minimum=a.roundTo(e.min-k*e.step,j);e.maximum=a.roundTo(e.max+l*e.step,j);e.setStep=e.step;k=e.strictMinMax=!0}}k&&this.updateAfterValueZoom();for(n=0;n<i.length;n++){e=i[n],e.minimum=NaN,e.maximum=NaN,e.setStep=NaN,e.strictMinMax=!1}}}},handleWheelReal:function(r,q){if(!this.wheelBusy){var p=this.categoryAxis,o=p.parseDates,j=p.minDuration(),n=1,m=1;this.mouseWheelZoomEnabled?q||(n=-1):q&&(n=-1);var i=this.chartCursor;if(i){var h=i.mouseX,i=i.mouseY;n!=m&&(h=this.rotate?i/this.plotAreaHeight:h/this.plotAreaWidth,n*=h,m*=1-h);h=0.05*(this.end-this.start);o&&(h=0.05*(this.endTime-this.startTime)/j);1>h&&(h=1);n*=h;m*=h;if(!o||p.equalSpacing){n=Math.round(n),m=Math.round(m)}}i=this.chartData.length;p=this.lastTime;h=this.firstTime;0>r?o?(i=this.endTime-this.startTime,o=this.startTime+n*j,j=this.endTime+m*j,0<m&&0<n&&j>=p&&(j=p,o=p-i),this.zoomToDates(new Date(o),new Date(j))):(0<m&&0<n&&this.end>=i-1&&(n=m=0),o=this.start+n,j=this.end+m,this.zoomToIndexes(o,j)):o?(i=this.endTime-this.startTime,o=this.startTime-n*j,j=this.endTime-m*j,0<m&&0<n&&o<=h&&(o=h,j=h+i),this.zoomToDates(new Date(o),new Date(j))):(0<m&&0<n&&1>this.start&&(n=m=0),o=this.start-n,j=this.end-m,this.zoomToIndexes(o,j))}},validateData:function(f){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!f&&(this.endTime=this.end=this.startTime=this.start=NaN);var e=f=!1,h=!1,g=this.chartScrollbar;g&&(g.dragging&&(f=!0,g.handleDragStop()),g.resizingRight&&(h=!0,g.rightDragStop()),g.resizingLeft&&(e=!0,g.leftDragStop()));a.AmSerialChart.base.validateData.call(this);f&&g.handleDragStart();h&&g.rightDragStart();e&&g.leftDragStart()},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){a.AmSerialChart.base.drawChart.call(this);var f=this.chartData;if(a.ifArray(f)){var e=this.chartScrollbar;!e||!this.marginsUpdated&&this.autoMargins||e.draw();(e=this.valueScrollbar)&&e.draw();var e=f.length-1,h,g;h=this.categoryAxis;if(h.parseDates&&!h.equalSpacing){if(h=this.startTime,g=this.endTime,isNaN(h)||isNaN(g)){h=this.firstTime,g=this.lastTime}}else{h=this.start;g=this.end;if(isNaN(h)||isNaN(g)){g=h=NaN}isNaN(h)&&(isNaN(this.startTime)||(h=this.getClosestIndex(f,"time",this.startTime,!0,0,f.length)));isNaN(g)&&(isNaN(this.endTime)||(g=this.getClosestIndex(f,"time",this.endTime,!1,0,f.length)));if(isNaN(h)||isNaN(g)){h=0,g=e}}this.endTime=this.startTime=this.end=this.start=void 0;this.zoom(h,g)}}else{this.cleanChart()}},cleanChart:function(){a.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(e,d,f){e.chart=this;e.id=f;e.rotate=d;e.setOrientation(!this.rotate);e.init();this.setAxisRenderers(e);this.updateObjectSize(e)},updateValueAxes:function(){a.AmSerialChart.base.updateValueAxes.call(this);var f=this.valueAxes,e;for(e=0;e<f.length;e++){var h=f[e],g=this.rotate;h.rotate=g;h.setOrientation(g);g=this.categoryAxis;if(!g.startOnAxis||g.parseDates){h.expandMinMax=!0}}},getStartTime:function(d){var c=this.categoryAxis;return a.resetDateToMin(new Date(d),c.minPeriod,1,c.firstDayOfWeek).getTime()},getEndTime:function(d){var c=a.extractPeriod(this.categoryAxis.minPeriod);return a.changeDate(new Date(d),c.period,c.count,!0).getTime()-1},updateMargins:function(){a.AmSerialChart.base.updateMargins.call(this);var b=this.chartScrollbar;b&&(this.getScrollbarPosition(b,this.rotate,this.categoryAxis.position),this.adjustMargins(b,this.rotate));if(b=this.valueScrollbar){this.getScrollbarPosition(b,!this.rotate,this.valueAxes[0].position),this.adjustMargins(b,!this.rotate)}},updateScrollbars:function(){a.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate);this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(e,d){var f=this.categoryAxis;f.parseDates&&!f.equalSpacing?(this.timeZoom(e,d),isNaN(e)&&this.zoomOutValueAxes()):this.indexZoom(e,d);(f=this.chartCursor)&&(f.pan||f.hideCursorReal());this.updateLegendValues()},timeZoom:function(i,e){var p=this.maxSelectedTime;isNaN(p)||(e!=this.endTime&&e-i>p&&(i=e-p),i!=this.startTime&&e-i>p&&(e=i+p));var o=this.minSelectedTime;if(0<o&&e-i<o){var m=Math.round(i+(e-i)/2),o=Math.round(o/2);i=m-o;e=m+o}o=this.chartData;m=this.categoryAxis;if(a.ifArray(o)&&(i!=this.startTime||e!=this.endTime)){var l=m.minDuration(),n=this.firstTime,j=this.lastTime;i||(i=n,isNaN(p)||(i=j-p));e||(e=j);i>j&&(i=j);e<n&&(e=n);i<n&&(i=n);e>j&&(e=j);e<i&&(e=i+l);e-i<l/5&&(e<j?e=i+l/5:i=e-l/5);this.startTime=i;this.endTime=e;p=o.length-1;l=this.getClosestIndex(o,"time",i,!0,0,p);o=this.getClosestIndex(o,"time",e,!1,l,p);m.timeZoom(i,e);m.zoom(l,o);this.start=a.fitToBounds(l,0,p);this.end=a.fitToBounds(o,0,p);this.zoomAxesAndGraphs();this.zoomScrollbar();this.fixCursor();this.showZB();this.syncGrid();this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},showZB:function(){var d,c=this.categoryAxis;c&&c.parseDates&&!c.equalSpacing&&(this.startTime>this.firstTime&&(d=!0),this.endTime<this.lastTime&&(d=!0));0<this.start&&(d=!0);this.end<this.chartData.length-1&&(d=!0);if(c=this.valueAxes){c=c[0],isNaN(c.relativeStart)||(0!==a.roundTo(c.relativeStart,3)&&(d=!0),1!=a.roundTo(c.relativeEnd,3)&&(d=!0))}a.AmSerialChart.base.showZB.call(this,d)},updateAfterValueZoom:function(){a.AmSerialChart.base.updateAfterValueZoom.call(this);this.updateColumnsDepth()},indexZoom:function(f,e){var j=this.maxSelectedSeries,i=!1;isNaN(j)||(e!=this.end&&e-f>j&&(f=e-j,i=!0),f!=this.start&&e-f>j&&(e=f+j,i=!0));if(i&&(i=this.chartScrollbar)&&i.dragger){var h=i.dragger.getBBox();i.maxWidth=h.width;i.maxHeight=h.height}if(f!=this.start||e!=this.end){i=this.chartData.length-1,isNaN(f)&&(f=0,isNaN(j)||(f=i-j)),isNaN(e)&&(e=i),e<f&&(e=f),e>i&&(e=i),f>i&&(f=i-1),0>f&&(f=0),this.start=f,this.end=e,this.categoryAxis.zoom(f,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==f||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent()}},updateGraphs:function(){a.AmSerialChart.base.updateGraphs.call(this);var e=this.graphs,d;for(d=0;d<e.length;d++){var f=e[d];f.columnWidthReal=this.columnWidth;f.categoryAxis=this.categoryAxis;a.isString(f.fillToGraph)&&(f.fillToGraph=this.graphsById[f.fillToGraph])}},zoomAxesAndGraphs:function(){a.AmSerialChart.base.zoomAxesAndGraphs.call(this);this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var f,e=this.graphs,j;this.columnsArray=[];for(f=0;f<e.length;f++){j=e[f];var i=j.columnsArray;if(i){var h;for(h=0;h<i.length;h++){this.columnsArray.push(i[h])}}}this.columnsArray.sort(this.compareDepth);e=this.columnsSet;if(0<this.columnsArray.length){i=this.container.set();this.columnSet.push(i);for(f=0;f<this.columnsArray.length;f++){i.push(this.columnsArray[f].column.set)}j&&i.translate(j.x,j.y);this.columnsSet=i}a.remove(e)}},compareDepth:function(d,c){return d.depth>c.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,d=this.categoryAxis;if(e){if(!this.zoomedByScrollbar){var f=e.dragger;f&&f.stop()}this.zoomedByScrollbar=!1;d.parseDates&&!d.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var e=this.trendLines,d;for(d=0;d<e.length;d++){var f=e[d],f=a.processObject(f,a.TrendLine,this.theme);e[d]=f;f.chart=this;f.id||(f.id="trendLineAuto"+d+"_"+(new Date).getTime());a.isString(f.valueAxis)&&(f.valueAxis=this.getValueAxisById(f.valueAxis));f.valueAxis||(f.valueAxis=this.valueAxes[0]);f.categoryAxis=this.categoryAxis}},countColumns:function(){var t=0,s=this.valueAxes.length,r=this.graphs.length,q,n,p=!1,o,j;for(j=0;j<s;j++){n=this.valueAxes[j];var i=n.stackType,h=0;if("100%"==i||"regular"==i){for(p=!1,o=0;o<r;o++){q=this.graphs[o],q.tcc=1,q.valueAxis==n&&"column"==q.type&&(!p&&q.stackable&&(t++,p=!0),(!q.stackable&&q.clustered||q.newStack&&0!==h)&&t++,q.columnIndex=t-1,q.clustered||(q.columnIndex=0),h++)}}if("none"==i||"3d"==i){h=!1;for(o=0;o<r;o++){q=this.graphs[o],q.valueAxis==n&&"column"==q.type&&(q.clustered?(q.tcc=1,q.newStack&&(t=0),q.hidden||(q.columnIndex=t,t++)):q.hidden||(h=!0,q.tcc=1,q.columnIndex=0))}h&&0===t&&(t=1)}if("3d"==i){n=1;for(h=0;h<r;h++){q=this.graphs[h],q.newStack&&n++,q.depthCount=n,q.tcc=t}t=n}}return t},parseData:function(){a.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var d=this.chartData,f;for(f=0;f<d.length;f++){if(d[f].category==e){return f}}},handleScrollbarZoom:function(b){this.zoomedByScrollbar=!0;this.zoom(b.start,b.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime);e.endDate=new Date(this.endTime);e.startIndex=this.start;e.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=e.startDate;this.endDate=e.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var d=this.categoryAxis,f=a.extractPeriod(d.minPeriod).period,d=d.dateFormatsObject[f];e.startValue=a.formatDate(e.startDate,d,this);e.endValue=a.formatDate(e.endDate,d,this);e.chart=this;e.target=this;this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start;this.endIndex=this.end;var d=this.chartData;if(a.ifArray(d)&&!isNaN(this.start)&&!isNaN(this.end)){var c={chart:this,target:this,type:"zoomed"};c.startIndex=this.start;c.endIndex=this.end;c.startValue=d[this.start].category;c.endValue=d[this.end].category;this.categoryAxis.parseDates&&(this.startTime=d[this.start].time,this.endTime=d[this.end].time,c.startDate=new Date(this.startTime),c.endDate=new Date(this.endTime));this.prevStartIndex=this.start;this.prevEndIndex=this.end;this.fire(c)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(i,h,p,o,l,n){0>l&&(l=0);n>i.length-1&&(n=i.length-1);var m=l+Math.round((n-l)/2),j=i[m][h];return p==j?m:1>=n-l?o?l:Math.abs(i[l][h]-p)<Math.abs(i[n][h]-p)?l:n:p==j?m:p<j?this.getClosestIndex(i,h,p,o,l,m):this.getClosestIndex(i,h,p,o,m,n)},zoomToIndexes:function(f,e){var h=this.chartData;if(h){var g=h.length;0<g&&(0>f&&(f=0),e>g-1&&(e=g-1),g=this.categoryAxis,g.parseDates&&!g.equalSpacing?this.zoom(h[f].time,this.getEndTime(h[e].time)):this.zoom(f,e))}},zoomToDates:function(f,e){var h=this.chartData;if(h){if(this.categoryAxis.equalSpacing){var g=this.getClosestIndex(h,"time",f.getTime(),!0,0,h.length);e=a.resetDateToMin(e,this.categoryAxis.minPeriod,1);h=this.getClosestIndex(h,"time",e.getTime(),!1,0,h.length);this.zoom(g,h)}else{this.zoom(f.getTime(),e.getTime())}}},zoomToCategoryValues:function(d,c){this.chartData&&this.zoom(this.getCategoryIndexByValue(d),this.getCategoryIndexByValue(c))},formatPeriodString:function(ab,aa){if(aa){aa.periodDataItem={};aa.periodPercentDataItem={};var Z=["value","open","low","high","close"],Y="value open low high close average sum count".split(" "),W=aa.valueAxis,V=this.chartData,X=aa.numberFormatter;X||(X=this.nf);for(var U=0;U<Z.length;U++){for(var T=Z[U],S=0,Q=0,R=0,H=0,s,j,I,J,M,O,N,o,i,L,G=this.start;G<=this.end;G++){var K=V[G];if(K){var P=K.axes[W.id].graphs[aa.id];if(P){if(P.values){var e=P.values[T],K=K.x.categoryAxis;if(this.rotate){if(0>K||K>P.graph.height){e=NaN}}else{if(0>K||K>P.graph.width){e=NaN}}if(!isNaN(e)){isNaN(s)&&(s=e);j=e;if(isNaN(I)||I>e){I=e}if(isNaN(J)||J<e){J=e}M=a.getDecimals(S);K=a.getDecimals(e);S+=e;S=a.roundTo(S,Math.max(M,K));Q++;M=S/Q}}if(P.percents&&(P=P.percents[T],!isNaN(P))){isNaN(O)&&(O=P);N=P;if(isNaN(o)||o>P){o=P}if(isNaN(i)||i<P){i=P}L=a.getDecimals(R);e=a.getDecimals(P);R+=P;R=a.roundTo(R,Math.max(L,e));H++;L=R/H}}}}S={open:s,close:j,high:J,low:I,average:M,sum:S,count:Q};R={open:O,close:N,high:i,low:o,average:L,sum:R,count:H};ab=a.formatValue(ab,S,Y,X,T+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);ab=a.formatValue(ab,R,Y,this.pf,"percents\\."+T+"\\.");aa.periodDataItem[T]=S;aa.periodPercentDataItem[T]=R}}return ab=a.cleanFromEmpty(ab)},formatString:function(i,e,n){if(e){var m=e.graph;if(void 0!==i){if(-1!=i.indexOf("[[category]]")){var k=e.serialDataItem.category;if(this.categoryAxis.parseDates){var j=this.balloonDateFormat,l=this.chartCursor;l&&l.categoryBalloonDateFormat&&(j=l.categoryBalloonDateFormat);j=a.formatDate(k,j,this);-1!=j.indexOf("fff")&&(j=a.formatMilliseconds(j,k));k=j}i=i.replace(/\[\[category\]\]/g,String(k.replace("$","$$$")))}k=m.numberFormatter;k||(k=this.nf);j=e.graph.valueAxis;(l=j.duration)&&!isNaN(e.values.value)&&(l=a.formatDuration(e.values.value,l,"",j.durationUnits,j.maxInterval,k),i=i.replace(RegExp("\\[\\[value\\]\\]","g"),l));"date"==j.type&&(j=a.formatDate(new Date(e.values.value),m.dateFormat,this),l=RegExp("\\[\\[value\\]\\]","g"),i=i.replace(l,j),j=a.formatDate(new Date(e.values.open),m.dateFormat,this),l=RegExp("\\[\\[open\\]\\]","g"),i=i.replace(l,j));m="value open low high close total".split(" ");j=this.pf;i=a.formatValue(i,e.percents,m,j,"percents\\.");i=a.formatValue(i,e.values,m,k,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);i=a.formatValue(i,e.values,["percents"],j);-1!=i.indexOf("[[")&&(i=a.formatDataContextValue(i,e.dataContext));-1!=i.indexOf("[[")&&e.graph.customData&&(i=a.formatDataContextValue(i,e.graph.customData));i=a.AmSerialChart.base.formatString.call(this,i,e,n)}return i}},updateChartCursor:function(){a.AmSerialChart.base.updateChartCursor.call(this);var i=this.chartCursor,e=this.categoryAxis;if(i){var p=i.categoryBalloonAlpha,o=i.categoryBalloonColor,m=i.color;void 0===o&&(o=i.cursorColor);var l=i.valueZoomable,n=i.zoomable,j=i.valueLineEnabled;this.rotate?(i.vLineEnabled=j,i.hZoomEnabled=l,i.vZoomEnabled=n):(i.hLineEnabled=j,i.vZoomEnabled=l,i.hZoomEnabled=n);if(i.valueLineBalloonEnabled){for(j=0;j<this.valueAxes.length;j++){l=this.valueAxes[j],(n=l.balloon)||(n={}),n=a.extend(n,this.balloon,!0),n.fillColor=o,n.balloonColor=o,n.fillAlpha=p,n.borderColor=o,n.color=m,l.balloon=n}}else{for(n=0;n<this.valueAxes.length;n++){l=this.valueAxes[n],l.balloon&&(l.balloon=null)}}e&&(e.balloonTextFunction=i.categoryBalloonFunction,i.categoryLineAxis=e,e.balloonText=i.categoryBalloonText,i.categoryBalloonEnabled&&((n=e.balloon)||(n={}),n=a.extend(n,this.balloon,!0),n.fillColor=o,n.balloonColor=o,n.fillAlpha=p,n.borderColor=o,n.color=m,e.balloon=n),e.balloon&&(e.balloon.enabled=i.categoryBalloonEnabled))}},addChartScrollbar:function(b){a.callMethod("destroy",[this.chartScrollbar]);b&&(b.chart=this,this.listenTo(b,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===b.width&&(b.width=b.scrollbarHeight):void 0===b.height&&(b.height=b.scrollbarHeight);b.gridAxis=this.categoryAxis;this.chartScrollbar=b},addValueScrollbar:function(d){a.callMethod("destroy",[this.valueScrollbar]);d&&(d.chart=this,this.listenTo(d,"zoomed",this.handleScrollbarValueZoom),this.listenTo(d,"zoomStarted",this.handleCursorZoomStarted));var c=d.scrollbarHeight;this.rotate?void 0===d.height&&(d.height=c):void 0===d.width&&(d.width=c);d.gridAxis||(d.gridAxis=this.valueAxes[0]);d.valueAxes=this.valueAxes;this.valueScrollbar=d},removeChartScrollbar:function(){a.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},removeValueScrollbar:function(){a.callMethod("destroy",[this.valueScrollbar]);this.valueScrollbar=null},handleReleaseOutside:function(b){a.AmSerialChart.base.handleReleaseOutside.call(this,b);a.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){a.AmSerialChart.base.update.call(this);this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update();this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){a.AmSerialChart.base.processScrollbars.call(this);var b=this.valueScrollbar;b&&(b=a.processObject(b,a.ChartScrollbar,this.theme),b.id="valueScrollbar",this.addValueScrollbar(b))},handleValueAxisZoom:function(b){this.handleValueAxisZoomReal(b,this.valueAxes)},zoomOut:function(){a.AmSerialChart.base.zoomOut.call(this);this.zoom();this.syncGrid()},getNextItem:function(f){var e=f.index,h=this.chartData,g=f.graph;if(e+1<h.length){for(e+=1;e<h.length;e++){if(f=h[e]){if(f=f.axes[g.valueAxis.id].graphs[g.id],!isNaN(f.y)){return f}}}}},handleCursorZoomReal:function(i,g,p,o,n){var l=n.target,m,j;this.rotate?(isNaN(i)||isNaN(g)||this.relativeZoomValueAxes(this.valueAxes,i,g)&&this.updateAfterValueZoom(),l.vZoomEnabled&&(m=n.start,j=n.end)):(isNaN(p)||isNaN(o)||this.relativeZoomValueAxes(this.valueAxes,p,o)&&this.updateAfterValueZoom(),l.hZoomEnabled&&(m=n.start,j=n.end));isNaN(m)||isNaN(j)||(i=this.categoryAxis,i.parseDates&&!i.equalSpacing?this.zoomToDates(new Date(m),new Date(j)):this.zoomToIndexes(m,j))},handleCursorZoomStarted:function(){var e=this.valueAxes;if(e){var e=e[0],d=e.relativeStart,f=e.relativeEnd;e.reversed&&(d=1-e.relativeEnd,f=1-e.relativeStart);this.rotate?(this.startX0=d,this.endX0=f):(this.startY0=d,this.endY0=f)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition();this.prevCursorItem=null},handleCursorMove:function(x){a.AmSerialChart.base.handleCursorMove.call(this,x);var w=x.target,v=this.categoryAxis;if(x.panning){this.handleCursorHide(x)}else{if(this.chartData&&!w.isHidden){var u=this.graphs;if(u){var s;s=v.xToIndex(this.rotate?x.y:x.x);if(s=this.chartData[s]){var r,t,q,o;if(w.oneBalloonOnly&&w.valueBalloonsEnabled){var j=Infinity;for(r=u.length-1;0<=r;r--){if(t=u[r],t.balloon.enabled&&t.showBalloon&&!t.hidden){q=t.valueAxis.id;q=s.axes[q].graphs[t.id];if(w.showNextAvailable&&isNaN(q.y)&&(q=this.getNextItem(q),!q)){continue}q=q.y;"top"==t.showBalloonAt&&(q=0);"bottom"==t.showBalloonAt&&(q=this.height);var e=w.mouseX,i=w.mouseY;q=this.rotate?Math.abs(e-q):Math.abs(i-q);q<j&&(j=q,o=t)}}w.mostCloseGraph=o}if(this.prevCursorItem!=s||o!=this.prevMostCloseGraph){j=[];for(r=0;r<u.length;r++){t=u[r];q=t.valueAxis.id;q=s.axes[q].graphs[t.id];if(w.showNextAvailable&&isNaN(q.y)&&(q=this.getNextItem(q),!q&&t.balloon)){t.balloon.hide();continue}o&&t!=o?(t.showGraphBalloon(q,w.pointer,!1,w.graphBulletSize,w.graphBulletAlpha),t.balloon.hide(0)):w.valueBalloonsEnabled?(t.balloon.showBullet=w.bulletsEnabled,t.balloon.bulletSize=w.bulletSize/2,x.hideBalloons||(t.showGraphBalloon(q,w.pointer,!1,w.graphBulletSize,w.graphBulletAlpha),t.balloon.set&&j.push({balloon:t.balloon,y:t.balloon.pointToY}))):(t.currentDataItem=q,t.resizeBullet(q,w.graphBulletSize,w.graphBulletAlpha))}w.avoidBalloonOverlapping&&this.arrangeBalloons(j);this.prevCursorItem=s}this.prevMostCloseGraph=o}}v.showBalloon(x.x,x.y,w.categoryBalloonDateFormat,x.skip);this.updateLegendValues()}}},handleCursorHide:function(d){a.AmSerialChart.base.handleCursorHide.call(this,d);d=this.categoryAxis;this.prevCursorItem=null;this.updateLegendValues();d&&d.hideBalloon();d=this.graphs;var c;for(c=0;c<d.length;c++){d[c].currentDataItem=null}},handleCursorPanning:function(x){var w=x.target,v,u=x.deltaX,s=x.deltaY,r=x.delta2X,t=x.delta2Y;x=!1;if(this.rotate){isNaN(r)&&(r=u,x=!0);var q=this.endX0;v=this.startX0;var o=q-v,q=q-o*r,j=o;x||(j=0);x=a.fitToBounds(v-o*u,0,1-j)}else{isNaN(t)&&(t=s,x=!0),q=this.endY0,v=this.startY0,o=q-v,q+=o*s,j=o,x||(j=0),x=a.fitToBounds(v+o*t,0,1-j)}v=a.fitToBounds(q,j,1);var e;w.valueZoomable&&(e=this.relativeZoomValueAxes(this.valueAxes,x,v));var i;v=this.categoryAxis;this.rotate&&(u=s,r=t);x=!1;isNaN(r)&&(r=u,x=!0);if(w.zoomable&&(0<Math.abs(u)||0<Math.abs(r))){if(v.parseDates&&!v.equalSpacing){if(t=this.startTime0,s=this.endTime0,v=s-t,r*=v,o=this.firstTime,q=this.lastTime,j=v,x||(j=0),x=Math.round(a.fitToBounds(t-v*u,o,q-j)),r=Math.round(a.fitToBounds(s-r,o+j,q)),this.startTime!=x||this.endTime!=r){i={chart:this,target:w,type:"zoomed",start:x,end:r},this.skipZoomed=!0,w.fire(i),this.zoom(x,r),i=!0}}else{if(t=this.start0,s=this.end0,v=s-t,u=Math.round(v*u),r=Math.round(v*r),o=this.chartData.length-1,x||(v=0),x=a.fitToBounds(t-u,0,o-v),v=a.fitToBounds(s-r,v,o),this.start!=x||this.end!=v){this.skipZoomed=!0,w.fire({chart:this,target:w,type:"zoomed",start:x,end:v}),this.zoom(x,v),i=!0}}}!i&&e&&this.updateAfterValueZoom()},arrangeBalloons:function(i){var g=this.plotAreaHeight;i.sort(this.compareY);var p,o,n,l=this.plotAreaWidth,m=i.length;for(p=0;p<m;p++){o=i[p].balloon,o.setBounds(0,0,l,g),o.restorePrevious(),o.draw(),g=o.yPos-3}i.reverse();for(p=0;p<m;p++){o=i[p].balloon;var g=o.bottom,j=o.bottom-o.yPos;0<p&&g-j<n+3&&o.setBounds&&(o.setBounds(0,n+3,l,n+j+3),o.restorePrevious(),o.draw());o.set&&o.set.show();n=o.bottom}},compareY:function(d,c){return d.y<c.y?1:-1}})})();(function(){var a=window.AmCharts;a.Cuboid=a.Class({construct:function(C,A,z,y,w,r,s,q,o,j,g,i,F,D,B,H,G){this.set=C.set();this.container=C;this.h=Math.round(z);this.w=Math.round(A);this.dx=y;this.dy=w;this.colors=r;this.alpha=s;this.bwidth=q;this.bcolor=o;this.balpha=j;this.dashLength=D;this.topRadius=H;this.pattern=B;this.rotate=F;this.bcn=G;F?0>A&&0===g&&(g=180):0>z&&270==g&&(g=90);this.gradientRotation=g;0===y&&0===w&&(this.cornerRadius=i);this.draw()},draw:function(){var ay=this.set;ay.clear();var ax=this.container,aw=ax.chart,av=this.w,at=this.h,ar=this.dx,au=this.dy,aq=this.colors,ap=this.alpha,ao=this.bwidth,am=this.bcolor,an=this.balpha,ai=this.gradientRotation,ah=this.cornerRadius,af=this.dashLength,Y=this.pattern,aj=this.topRadius,ak=this.bcn,ab=aq,al=aq;"object"==typeof aq&&(ab=aq[0],al=aq[aq.length-1]);var ag,ae,aa,X,Z,ac,ad,R,s,e=ap;Y&&(ap=0);var W,V,U,T,S=this.rotate;if(0<Math.abs(ar)||0<Math.abs(au)){if(isNaN(aj)){ad=al,al=a.adjustLuminosity(ab,-0.2),al=a.adjustLuminosity(ab,-0.2),ag=a.polygon(ax,[0,ar,av+ar,av,0],[0,au,au,0,0],al,ap,1,am,0,ai),0<an&&(s=a.line(ax,[0,ar,av+ar],[0,au,au],am,an,ao,af)),ae=a.polygon(ax,[0,0,av,av,0],[0,at,at,0,0],al,ap,1,am,0,ai),ae.translate(ar,au),0<an&&(aa=a.line(ax,[ar,ar],[au,au+at],am,an,ao,af)),X=a.polygon(ax,[0,0,ar,ar,0],[0,at,at+au,au,0],al,ap,1,am,0,ai),Z=a.polygon(ax,[av,av,av+ar,av+ar,av],[0,at,at+au,au,0],al,ap,1,am,0,ai),0<an&&(ac=a.line(ax,[av,av+ar,av+ar,av],[0,au,at+au,at],am,an,ao,af)),al=a.adjustLuminosity(ad,0.2),ad=a.polygon(ax,[0,ar,av+ar,av,0],[at,at+au,at+au,at,at],al,ap,1,am,0,ai),0<an&&(R=a.line(ax,[0,ar,av+ar],[at,at+au,at+au],am,an,ao,af))}else{var o,j,i;S?(o=at/2,al=ar/2,i=at/2,j=av+ar/2,V=Math.abs(at/2),W=Math.abs(ar/2)):(al=av/2,o=au/2,j=av/2,i=at+au/2+1,W=Math.abs(av/2),V=Math.abs(au/2));U=W*aj;T=V*aj;0.1<W&&0.1<W&&(ag=a.circle(ax,W,ab,ap,ao,am,an,!1,V),ag.translate(al,o));0.1<U&&0.1<U&&(ad=a.circle(ax,U,a.adjustLuminosity(ab,0.5),ap,ao,am,an,!1,T),ad.translate(j,i))}}ap=e;1>Math.abs(at)&&(at=0);1>Math.abs(av)&&(av=0);!isNaN(aj)&&(0<Math.abs(ar)||0<Math.abs(au))?(aq=[ab],aq={fill:aq,stroke:am,"stroke-width":ao,"stroke-opacity":an,"fill-opacity":ap},S?(ap="M0,0 L"+av+","+(at/2-at/2*aj),ao=" B",0<av&&(ao=" A"),a.VML?(ap+=ao+Math.round(av-U)+","+Math.round(at/2-T)+","+Math.round(av+U)+","+Math.round(at/2+T)+","+av+",0,"+av+","+at,ap=ap+(" L0,"+at)+(ao+Math.round(-W)+","+Math.round(at/2-V)+","+Math.round(W)+","+Math.round(at/2+V)+",0,"+at+",0,0")):(ap+="A"+U+","+T+",0,0,0,"+av+","+(at-at/2*(1-aj))+"L0,"+at,ap+="A"+W+","+V+",0,0,1,0,0"),W=90):(ao=av/2-av/2*aj,ap="M0,0 L"+ao+","+at,a.VML?(ap="M0,0 L"+ao+","+at,ao=" B",0>at&&(ao=" A"),ap+=ao+Math.round(av/2-U)+","+Math.round(at-T)+","+Math.round(av/2+U)+","+Math.round(at+T)+",0,"+at+","+av+","+at,ap+=" L"+av+",0",ap+=ao+Math.round(av/2+W)+","+Math.round(V)+","+Math.round(av/2-W)+","+Math.round(-V)+","+av+",0,0,0"):(ap+="A"+U+","+T+",0,0,0,"+(av-av/2*(1-aj))+","+at+"L"+av+",0",ap+="A"+W+","+V+",0,0,1,0,0"),W=180),ax=ax.path(ap).attr(aq),ax.gradient("linearGradient",[ab,a.adjustLuminosity(ab,-0.3),a.adjustLuminosity(ab,-0.3),ab],W),S?ax.translate(ar/2,0):ax.translate(0,au/2)):ax=0===at?a.line(ax,[0,av],[0,0],am,an,ao,af):0===av?a.line(ax,[0,0],[0,at],am,an,ao,af):0<ah?a.rect(ax,av,at,aq,ap,ao,am,an,ah,ai,af):a.polygon(ax,[0,0,av,av,0],[0,at,at,0,0],aq,ap,ao,am,an,ai,!1,af);av=isNaN(aj)?0>at?[ag,s,ae,aa,X,Z,ac,ad,R,ax]:[ad,R,ae,aa,X,Z,ag,s,ac,ax]:S?0<av?[ag,ax,ad]:[ad,ax,ag]:0>at?[ag,ax,ad]:[ad,ax,ag];a.setCN(aw,ax,ak+"front");a.setCN(aw,ae,ak+"back");a.setCN(aw,ad,ak+"top");a.setCN(aw,ag,ak+"bottom");a.setCN(aw,X,ak+"left");a.setCN(aw,Z,ak+"right");for(ag=0;ag<av.length;ag++){if(ae=av[ag]){ay.push(ae),a.setCN(aw,ae,ak+"element")}}Y&&ax.pattern(Y,NaN,aw.path)},width:function(b){isNaN(b)&&(b=0);this.w=Math.round(b);this.draw()},height:function(b){isNaN(b)&&(b=0);this.h=Math.round(b);this.draw()},animateHeight:function(e,d){var f=this;f.animationFinished=!1;f.easing=d;f.totalFrames=e*a.updateRate;f.rh=f.h;f.frame=0;f.height(1);setTimeout(function(){f.updateHeight.call(f)},1000/a.updateRate)},updateHeight:function(){var d=this;d.frame++;var c=d.totalFrames;d.frame<=c?(c=d.easing(0,d.frame,1,d.rh-1,c),d.height(c),window.requestAnimationFrame?window.requestAnimationFrame(function(){d.updateHeight.call(d)}):setTimeout(function(){d.updateHeight.call(d)},1000/a.updateRate)):(d.height(d.rh),d.animationFinished=!0)},animateWidth:function(e,d){var f=this;f.animationFinished=!1;f.easing=d;f.totalFrames=e*a.updateRate;f.rw=f.w;f.frame=0;f.width(1);setTimeout(function(){f.updateWidth.call(f)},1000/a.updateRate)},updateWidth:function(){var d=this;d.frame++;var c=d.totalFrames;d.frame<=c?(c=d.easing(0,d.frame,1,d.rw-1,c),d.width(c),window.requestAnimationFrame?window.requestAnimationFrame(function(){d.updateWidth.call(d)}):setTimeout(function(){d.updateWidth.call(d)},1000/a.updateRate)):(d.width(d.rw),d.animationFinished=!0)}})})();(function(){var a=window.AmCharts;a.CategoryAxis=a.Class({inherits:a.AxisBase,construct:function(b){this.cname="CategoryAxis";a.CategoryAxis.base.construct.call(this,b);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.gridPosition="middle";this.safeDistance=30;this.stickBalloonToCategory=!1;a.applyTheme(this,b,this.cname)},draw:function(){a.CategoryAxis.base.draw.call(this);this.generateDFObject();var Z=this.chart.chartData;this.data=Z;this.labelRotationR=this.labelRotation;this.type=null;if(a.ifArray(Z)){var Y,X=this.chart;"scrollbar"!=this.id?(a.setCN(X,this.set,"category-axis"),a.setCN(X,this.labelsSet,"category-axis"),a.setCN(X,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var W=this.start,U=this.labelFrequency,T=0,V=this.end-W+1,S=this.gridCountR,R=this.showFirstLabel,Q=this.showLastLabel,O,P="",P=a.extractPeriod(this.minPeriod),z=a.getPeriodDuration(P.period,P.count),o,i,G,H,K,M=this.rotate,L=this.firstDayOfWeek,j=this.boldPeriodBeginning;Y=a.resetDateToMin(new Date(Z[Z.length-1].time+1.05*z),this.minPeriod,1,L).getTime();this.firstTime=X.firstTime;this.endTime>Y&&(this.endTime=Y);K=this.minorGridEnabled;i=this.gridAlpha;var e=0,J=0;if(this.widthField){for(Y=this.start;Y<=this.end;Y++){if(H=this.data[Y]){var s=Number(this.data[Y].dataContext[this.widthField]);isNaN(s)||(e+=s,H.widthValue=s)}}}if(this.parseDates&&!this.equalSpacing){this.lastTime=Z[Z.length-1].time,this.maxTime=a.resetDateToMin(new Date(this.lastTime+1.05*z),this.minPeriod,1,L).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw()}else{if(!this.parseDates){if(this.cellWidth=this.getStepWidth(V),V<S&&(S=V),T+=this.start,this.stepWidth=this.getStepWidth(V),0<S){for(L=Math.floor(V/S),H=this.chooseMinorFrequency(L),V=T,V/2==Math.round(V/2)&&V--,0>V&&(V=0),j=0,this.widthField&&(V=this.start,L=1),this.end-V+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),Y=V;Y<=this.end+2;Y++){S=!1;0<=Y&&Y<this.data.length?(o=this.data[Y],P=o.category,S=o.forceShow):P="";if(K&&!isNaN(H)){if(Y/H==Math.round(Y/H)||S){Y/L==Math.round(Y/L)||S||(this.gridAlpha=this.minorGridAlpha,P=void 0)}else{continue}}else{if(Y/L!=Math.round(Y/L)&&!S){continue}}V=this.getCoordinate(Y-T);S=0;"start"==this.gridPosition&&(V-=this.cellWidth/2,S=this.cellWidth/2);O=!0;G=S;"start"==this.tickPosition&&(G=0,O=!1,S=0);if(Y==W&&!R||Y==this.end&&!Q){P=void 0}Math.round(j/U)!=j/U&&(P=void 0);j++;Z=this.cellWidth;M&&(Z=NaN,this.ignoreAxisWidth||!X.autoMargins)&&(Z="right"==this.position?X.marginRight-this.titleWidth:X.marginLeft-this.titleWidth,Z-=this.tickLength+10);this.labelFunction&&o&&(P=this.labelFunction(P,o,this));P=a.fixBrakes(P);z=!1;this.boldLabels&&(z=!0);Y>this.end&&"start"==this.tickPosition&&(P=" ");this.rotate&&this.inside&&(S-=2);isNaN(o.widthValue)||(o.percentWidthValue=o.widthValue/e*100,Z=this.rotate?this.height*o.widthValue/e:this.width*o.widthValue/e,V=J,J+=Z,G=S=Z/2);O=new this.axisItemRenderer(this,V,P,O,Z,S,void 0,z,G,!1,o.labelColor,o.className);O.serialDataItem=o;this.pushAxisItem(O);this.gridAlpha=i}}}else{if(this.parseDates&&this.equalSpacing){T=this.start;this.startTime=this.data[this.start].time;this.endTime=this.data[this.end].time;this.timeDifference=this.endTime-this.startTime;Y=this.choosePeriod(0);U=Y.period;o=Y.count;Y=a.getPeriodDuration(U,o);Y<z&&(U=P.period,o=P.count,Y=z);i=U;"WW"==i&&(i="DD");this.currentDateFormat=this.dateFormatsObject[i];this.stepWidth=this.getStepWidth(V);S=Math.ceil(this.timeDifference/Y)+1;P=a.resetDateToMin(new Date(this.startTime-Y),U,o,L).getTime();this.cellWidth=this.getStepWidth(V);V=Math.round(P/Y);W=-1;V/2==Math.round(V/2)&&(W=-2,P-=Y);V=this.start;V/2==Math.round(V/2)&&V--;0>V&&(V=0);J=this.end+2;J>=this.data.length&&(J=this.data.length);Z=!1;Z=!R;this.previousPos=-1000;20<this.labelRotationR&&(this.safeDistance=5);s=V;if(this.data[V].time!=a.resetDateToMin(new Date(this.data[V].time),U,o,L).getTime()){var z=0,I=P;for(Y=V;Y<J;Y++){H=this.data[Y].time,this.checkPeriodChange(U,o,H,I)&&(z++,2<=z&&(s=Y,Y=J),I=H)}}K&&1<o&&(H=this.chooseMinorFrequency(o),a.getPeriodDuration(U,H));if(0<this.gridCountR){for(Y=V;Y<J;Y++){if(H=this.data[Y].time,this.checkPeriodChange(U,o,H,P)&&Y>=s){V=this.getCoordinate(Y-this.start);K=!1;this.nextPeriod[i]&&(K=this.checkPeriodChange(this.nextPeriod[i],1,H,P,i))&&a.resetDateToMin(new Date(H),this.nextPeriod[i],1,L).getTime()!=H&&(K=!1);z=!1;K&&this.markPeriodChange?(K=this.dateFormatsObject[this.nextPeriod[i]],z=!0):K=this.dateFormatsObject[i];P=a.formatDate(new Date(H),K,X);if(Y==W&&!R||Y==S&&!Q){P=" "}Z?Z=!1:(j||(z=!1),V-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(P=this.labelFunction(P,new Date(H),this,U,o,G)),this.boldLabels&&(z=!0),O=new this.axisItemRenderer(this,V,P,void 0,void 0,void 0,void 0,z),K=O.graphics(),this.pushAxisItem(O),K=K.getBBox().width,a.isModern||(K-=V),this.previousPos=V+K));G=P=H}}}}}}for(Y=R=0;Y<this.data.length;Y++){if(H=this.data[Y]){this.parseDates&&!this.equalSpacing?(Q=H.time,W=this.cellWidth,"MM"==this.minPeriod&&(W=86400000*a.daysInMonth(new Date(Q))*this.stepWidth,H.cellWidth=W),Q=Math.round((Q-this.startTime)*this.stepWidth+W/2)):Q=this.getCoordinate(Y-T),H.x[this.id]=Q}}if(this.widthField){for(Y=this.start;Y<=this.end;Y++){H=this.data[Y],W=H.widthValue,H.percentWidthValue=W/e*100,this.rotate?(Q=this.height*W/e/2+R,R=this.height*W/e+R):(Q=this.width*W/e/2+R,R=this.width*W/e+R),H.x[this.id]=Q}}e=this.guides.length;for(Y=0;Y<e;Y++){if(R=this.guides[Y],L=L=L=K=W=NaN,Q=R.above,R.toCategory&&(L=X.getCategoryIndexByValue(R.toCategory),isNaN(L)||(W=this.getCoordinate(L-T),R.expand&&(W+=this.cellWidth/2),O=new this.axisItemRenderer(this,W,"",!0,NaN,NaN,R),this.pushAxisItem(O,Q))),R.category&&(L=X.getCategoryIndexByValue(R.category),isNaN(L)||(K=this.getCoordinate(L-T),R.expand&&(K-=this.cellWidth/2),L=(W-K)/2,O=new this.axisItemRenderer(this,K,R.label,!0,NaN,L,R),this.pushAxisItem(O,Q))),j=X.dataDateFormat,R.toDate&&(!j||R.toDate instanceof Date||(R.toDate=R.toDate.toString()+" |"),R.toDate=a.getDate(R.toDate,j),this.equalSpacing?(L=X.getClosestIndex(this.data,"time",R.toDate.getTime(),!1,0,this.data.length-1),isNaN(L)||(W=this.getCoordinate(L-T))):W=(R.toDate.getTime()-this.startTime)*this.stepWidth,O=new this.axisItemRenderer(this,W,"",!0,NaN,NaN,R),this.pushAxisItem(O,Q)),R.date&&(!j||R.date instanceof Date||(R.date=R.date.toString()+" |"),R.date=a.getDate(R.date,j),this.equalSpacing?(L=X.getClosestIndex(this.data,"time",R.date.getTime(),!1,0,this.data.length-1),isNaN(L)||(K=this.getCoordinate(L-T))):K=(R.date.getTime()-this.startTime)*this.stepWidth,L=(W-K)/2,O=!0,R.toDate&&(O=!1),O="H"==this.orientation?new this.axisItemRenderer(this,K,R.label,O,2*L,NaN,R):new this.axisItemRenderer(this,K,R.label,!1,NaN,L,R),this.pushAxisItem(O,Q)),O&&(L=O.label)&&this.addEventListeners(L,R),0<W||0<K){L=!1;if(this.rotate){if(W<this.height||K<this.height){L=!0}}else{if(W<this.width||K<this.width){L=!0}}L&&(W=new this.guideFillRenderer(this,K,W,R),K=W.graphics(),this.pushAxisItem(W,Q),R.graphics=K,K.index=Y,this.addEventListeners(K,R))}}if(X=X.chartCursor){M?X.fixHeight(this.cellWidth):(X.fixWidth(this.cellWidth),X.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))}this.previousHeight=N}this.axisCreated=!0;this.set.translate(this.x,this.y);this.labelsSet.translate(this.x,this.y);this.labelsSet.show();this.positionTitle();(M=this.axisLine.set)&&M.toFront();var N=this.getBBox().height;2<N-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(i){var e=this.data,p=this.chart,o=p.rotate,m=this.stepWidth,l;if(this.parseDates&&!this.equalSpacing){i=this.startTime+Math.round(i/m)-this.minDuration()/2,l=p.getClosestIndex(e,"time",i,!1,this.start,this.end+1)}else{if(this.widthField){for(p=Infinity,m=this.start;m<=this.end;m++){var n=this.data[m];n&&(n=Math.abs(n.x[this.id]-i),n<p&&(p=n,l=m))}}else{this.startOnAxis||(i-=m/2),l=this.start+Math.round(i/m)}}l=a.fitToBounds(l,0,e.length-1);var j;e[l]&&(j=e[l].x[this.id]);o?j>this.height+1&&l--:j>this.width+1&&l--;0>j&&l++;return l=a.fitToBounds(l,0,e.length-1)},dateToCoordinate:function(b){return this.parseDates&&!this.equalSpacing?(b.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(b=this.chart.getClosestIndex(this.data,"time",b.getTime(),!1,0,this.data.length-1),this.getCoordinate(b-this.start)):NaN},categoryToCoordinate:function(b){if(this.chart){if(this.parseDates){return this.dateToCoordinate(new Date(b))}b=this.chart.getCategoryIndexByValue(b);if(!isNaN(b)){return this.getCoordinate(b-this.start)}}else{return NaN}},coordinateToDate:function(b){return this.equalSpacing?(b=this.xToIndex(b),new Date(this.data[b].time)):new Date(this.startTime+b/this.stepWidth)},coordinateToValue:function(b){b=this.xToIndex(b);if(b=this.data[b]){return this.parseDates?b.time:b.category}},getCoordinate:function(b){b*=this.stepWidth;this.startOnAxis||(b+=this.stepWidth/2);return Math.round(b)},formatValue:function(d,c){c||(c=this.currentDateFormat);this.parseDates&&(d=a.formatDate(new Date(d),c,this.chart));return d},showBalloonAt:function(d,c){void 0===c&&(c=this.parseDates?this.dateToCoordinate(new Date(d)):this.categoryToCoordinate(d));return this.adjustBalloonCoordinate(c)},formatBalloonText:function(i,e,p){var o="",m="",l=this.chart,n=this.data[e];if(n){if(this.parseDates){o=a.formatDate(n.category,p,l),e=a.changeDate(new Date(n.category),this.minPeriod,1),m=a.formatDate(e,p,l),-1!=o.indexOf("fff")&&(o=a.formatMilliseconds(o,n.category),m=a.formatMilliseconds(m,e))}else{var j;this.data[e+1]&&(j=this.data[e+1]);o=a.fixNewLines(n.category);j&&(m=a.fixNewLines(j.category))}}i=i.replace(/\[\[category\]\]/g,String(o));return i=i.replace(/\[\[toCategory\]\]/g,String(m))},adjustBalloonCoordinate:function(i,g){var p=this.xToIndex(i),o=this.chart.chartCursor;if(this.stickBalloonToCategory){var n=this.data[p];n&&(i=n.x[this.id]);this.stickBalloonToStart&&(i-=this.cellWidth/2);var l=0;if(o){var m=o.limitToGraph;if(m){var j=m.valueAxis.id;m.hidden||(l=n.axes[j].graphs[m.id].y)}this.rotate?("left"==this.position?(m&&(l-=o.width),0<l&&(l=0)):0>l&&(l=0),o.fixHLine(i,l)):("top"==this.position?(m&&(l-=o.height),0<l&&(l=0)):0>l&&(l=0),o.fullWidth&&(i+=1),o.fixVLine(i,l))}}o&&!g&&(o.setIndex(p),this.parseDates&&o.setTimestamp(this.coordinateToDate(i).getTime()));return i}})})();AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:0.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:0.15,zoomOutButtonImage:"lens"},AxisBase:{axisColor:"#000000",axisAlpha:0.3,gridAlpha:0.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:0.12,graphFillAlpha:0.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:0.4,gridAlpha:0.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:0.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:0.9},GaugeArrow:{color:"#000000",alpha:0.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:0.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:0.8},TrendLine:{lineColor:"#c03246",lineAlpha:0.8},AreasSettings:{alpha:0.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:0.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:0.5,outlineThickness:0.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:0.5},LinesSettings:{color:"#000000",alpha:0.8},ImagesSettings:{alpha:0.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:0.7,buttonIconColor:"#a7a7a7"},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:0.7,borderThickness:1,borderAlpha:0.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:0.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}};(function(){var a=window.AmCharts;a.AmSlicedChart=a.Class({inherits:a.AmChart,construct:function(b){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");a.AmSlicedChart.base.construct.call(this,b);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=0.2;this.hideLabelsPercent=0;this.urlTarget="_self";this.autoMarginOffset=10;this.gradientRatio=[];this.maxLabelWidth=200;this.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]";a.applyTheme(this,b,"AmSlicedChart")},initChart:function(){a.AmSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(f){var e=f.type,j=f.dataItem,i=this.legend;if(j.wedge&&j){var h=j.hidden;f=f.event;switch(e){case"clickMarker":h||i.switchable||this.clickSlice(j,f);break;case"clickLabel":h||this.clickSlice(j,f,!1);break;case"rollOverItem":h||this.rollOverSlice(j,!1,f);break;case"rollOutItem":h||this.rollOutSlice(j,f);break;case"hideItem":this.hideSlice(j,f);break;case"showItem":this.showSlice(j,f)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var b=this.legend;b&&b.invalidateSize()},addEventListeners:function(e,d){var f=this;e.mouseover(function(b){f.rollOverSlice(d,!0,b)}).mouseout(function(b){f.rollOutSlice(d,b)}).touchend(function(b){f.rollOverSlice(d,b)}).mouseup(function(b){f.clickSlice(d,b)}).contextmenu(function(b){f.handleRightClick(d,b)})},formatString:function(f,e,h){f=a.formatValue(f,e,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var g=this.pf.precision;isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec);f=a.formatValue(f,e,["percents"],this.pf);f=a.massReplace(f,{"[[title]]":e.title,"[[description]]":e.description});this.pf.precision=g;-1!=f.indexOf("[[")&&(f=a.formatDataContextValue(f,e.dataContext));f=h?a.fixNewLines(f):a.fixBrakes(f);return f=a.cleanFromEmpty(f)},startSlices:function(){var b;for(b=0;b<this.chartData.length;b++){0<this.startDuration&&this.sequencedAnimation?this.setStartTO(b):this.startSlice(this.chartData[b])}},setStartTO:function(d){var c=this;d=setTimeout(function(){c.startSequenced.call(c)},c.startDuration/c.chartData.length*500*d);c.timeOuts.push(d)},pullSlices:function(f){var e=this.chartData,h;for(h=0;h<e.length;h++){var g=e[h];g.pulled&&this.pullSlice(g,1,f)}},startSequenced:function(){var d=this.chartData,c;for(c=0;c<d.length;c++){if(!d[c].started){this.startSlice(this.chartData[c]);break}}},startSlice:function(f){f.started=!0;var e=f.wedge,h=this.startDuration,g=f.labelSet;e&&0<h&&(0<f.alpha&&e.show(),e.translate(f.startX,f.startY),this.animatable.push(e),e.animate({opacity:1,translate:"0,0"},h,this.startEffect));g&&0<h&&(0<f.alpha&&g.show(),g.translate(f.startX,f.startY),g.animate({opacity:1,translate:"0,0"},h,this.startEffect))},showLabels:function(){var f=this.chartData,e;for(e=0;e<f.length;e++){var h=f[e];if(0<h.alpha){var g=h.label;g&&g.show();(h=h.tick)&&h.show()}}},showSlice:function(b){isNaN(b)?b.hidden=!1:this.chartData[b].hidden=!1;this.invalidateVisibility()},hideSlice:function(b){isNaN(b)?b.hidden=!0:this.chartData[b].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(i,e,n){isNaN(i)||(i=this.chartData[i]);clearTimeout(this.hoverInt);if(!i.hidden){this.pullOnHover&&this.pullSlice(i,1);1>this.hoverAlpha&&i.wedge&&i.wedge.attr({opacity:this.hoverAlpha});var m=i.balloonX,k=i.balloonY;i.pulled&&(m+=i.pullX,k+=i.pullY);var l=this.formatString(this.balloonText,i,!0),j=this.balloonFunction;j&&(l=j(i,l));j=a.adjustLuminosity(i.color,-0.15);l?this.showBalloon(l,j,e,m,k):this.hideBalloon();0===i.value&&this.hideBalloon();this.fire({type:"rollOverSlice",dataItem:i,chart:this,event:n})}},rollOutSlice:function(d,c){isNaN(d)||(d=this.chartData[d]);d.wedge&&d.wedge.attr({opacity:1});this.hideBalloon();this.fire({type:"rollOutSlice",dataItem:d,chart:this,event:c})},clickSlice:function(e,d,f){this.checkTouchDuration(d)&&(isNaN(e)||(e=this.chartData[e]),e.pulled?this.pullSlice(e,0):this.pullSlice(e,1),a.getURL(e.url,this.urlTarget),f||this.fire({type:"clickSlice",dataItem:e,chart:this,event:d}))},handleRightClick:function(d,c){isNaN(d)||(d=this.chartData[d]);this.fire({type:"rightClickSlice",dataItem:d,chart:this,event:c})},drawTicks:function(){var f=this.chartData,e;for(e=0;e<f.length;e++){var h=f[e];if(h.label&&!h.skipTick){var g=h.ty,g=a.line(this.container,[h.tx0,h.tx,h.tx2],[h.ty0,g,g],this.labelTickColor,this.labelTickAlpha);a.setCN(this,g,this.type+"-tick");a.setCN(this,g,h.className,!0);h.tick=g;h.wedge.push(g);"AmFunnelChart"==this.cname&&g.toBack()}}},initialStart:function(){var e=this,d=e.startDuration,f=setTimeout(function(){e.showLabels.call(e)},1000*d);e.timeOuts.push(f);e.chartCreated?e.pullSlices(!0):(e.startSlices(),0<d?(d=setTimeout(function(){e.pullSlices.call(e)},1200*d),e.timeOuts.push(d)):e.pullSlices(!0))},pullSlice:function(f,e,h){var g=this.pullOutDuration;!0===h&&(g=0);if(h=f.wedge){0<g?(h.animate({translate:e*f.pullX+","+e*f.pullY},g,this.pullOutEffect),f.labelSet&&f.labelSet.animate({translate:e*f.pullX+","+e*f.pullY},g,this.pullOutEffect)):(f.labelSet&&f.labelSet.translate(e*f.pullX,e*f.pullY),h.translate(e*f.pullX,e*f.pullY))}1==e?(f.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(f.index),f={type:"pullOutSlice",dataItem:f,chart:this}):(f.pulled=!1,f={type:"pullInSlice",dataItem:f,chart:this});this.fire(f)},pullInAll:function(e){var d=this.chartData,f;for(f=0;f<this.chartData.length;f++){f!=e&&d[f].pulled&&this.pullSlice(d[f],0)}},pullOutAll:function(){var d=this.chartData,c;for(c=0;c<d.length;c++){d[c].pulled||this.pullSlice(d[c],1)}},parseData:function(){var j=[];this.chartData=j;var i=this.dataProvider;isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha);if(void 0!==i){var p=i.length,o=0,l,m,k;for(l=0;l<p;l++){m={};var n=i[l];m.dataContext=n;null!==n[this.valueField]&&(m.value=Number(n[this.valueField]));(k=n[this.titleField])||(k="");m.title=k;m.pulled=a.toBoolean(n[this.pulledField],!1);(k=n[this.descriptionField])||(k="");m.description=k;m.labelRadius=Number(n[this.labelRadiusField]);m.switchable=!0;m.className=n[this.classNameField];m.url=n[this.urlField];k=n[this.patternField];!k&&this.patterns&&(k=this.patterns[l]);m.pattern=k;m.visibleInLegend=a.toBoolean(n[this.visibleInLegendField],!0);k=n[this.alphaField];m.alpha=void 0!==k?Number(k):this.alpha;k=n[this.colorField];void 0!==k&&(m.color=k);m.labelColor=a.toColor(n[this.labelColorField]);o+=m.value;m.hidden=!1;j[l]=m}for(l=i=0;l<p;l++){m=j[l],m.percents=m.value/o*100,m.percents<this.groupPercent&&i++}1<i&&(this.groupValue=0,this.removeSmallSlices(),j.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/o*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}}));p=this.baseColor;p||(p=this.pieBaseColor);o=this.brightnessStep;o||(o=this.pieBrightnessStep);for(l=0;l<j.length;l++){p?k=a.adjustLuminosity(p,l*o/100):(k=this.colors[l],void 0===k&&(k=a.randomColor())),void 0===j[l].color&&(j[l].color=k)}this.recalculatePercents()}},recalculatePercents:function(){var f=this.chartData,e=0,h,g;for(h=0;h<f.length;h++){g=f[h],!g.hidden&&0<g.value&&(e+=g.value)}for(h=0;h<f.length;h++){g=this.chartData[h],g.percents=!g.hidden&&0<g.value?100*g.value/e:0}},removeSmallSlices:function(){var d=this.chartData,c;for(c=d.length-1;0<=c;c--){d[c].percents<this.groupPercent&&(this.groupValue+=d[c].value,d.splice(c,1))}},animateAgain:function(){var f=this;f.startSlices();for(var e=0;e<f.chartData.length;e++){var h=f.chartData[e];h.started=!1;var g=h.wedge;g&&(g.setAttr("opacity",f.startAlpha),g.translate(h.startX,h.startY));if(g=h.labelSet){g.setAttr("opacity",f.startAlpha),g.translate(h.startX,h.startY)}}e=f.startDuration;0<e?(e=setTimeout(function(){f.pullSlices.call(f)},1200*e),f.timeOuts.push(e)):f.pullSlices()},measureMaxLabel:function(){var h=this.chartData,e=0,l;for(l=0;l<h.length;l++){var k=h[l],i=this.formatString(this.labelText,k),j=this.labelFunction;j&&(i=j(k,i));k=a.text(this.container,i,this.color,this.fontFamily,this.fontSize);i=k.getBBox().width;i>e&&(e=i);k.remove()}return e}})})();(function(){var a=window.AmCharts;a.AmPieChart=a.Class({inherits:a.AmSlicedChart,construct:function(b){this.type="pie";a.AmPieChart.base.construct.call(this,b);this.cname="AmPieChart";this.pieBrightnessStep=30;this.minRadius=10;this.depth3D=0;this.startAngle=90;this.angle=this.innerRadius=0;this.startRadius="500%";this.pullOutRadius="20%";this.labelRadius=20;this.labelText="[[title]]: [[percents]]%";this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]";this.previousScale=1;this.adjustPrecision=!1;this.gradientType="radial";a.applyTheme(this,b,this.cname)},drawChart:function(){a.AmPieChart.base.drawChart.call(this);var Z=this.chartData;if(a.ifArray(Z)){if(0<this.realWidth&&0<this.realHeight){a.VML&&(this.startAlpha=1);var Y=this.startDuration,X=this.container,W=this.updateWidth();this.realWidth=W;var T=this.updateHeight();this.realHeight=T;var U=a.toCoordinate,S=U(this.marginLeft,W),V=U(this.marginRight,W),i=U(this.marginTop,T)+this.getTitleHeight(),P=U(this.marginBottom,T)+this.depth3D,O,L,Q,o=a.toNumber(this.labelRadius),M=this.measureMaxLabel();M>this.maxLabelWidth&&(M=this.maxLabelWidth);this.labelText&&this.labelsEnabled||(o=M=0);O=void 0===this.pieX?(W-S-V)/2+S:U(this.pieX,this.realWidth);L=void 0===this.pieY?(T-i-P)/2+i:U(this.pieY,T);Q=U(this.radius,W,T);Q||(W=0<=o?W-S-V-2*M:W-S-V,T=T-i-P,Q=Math.min(W,T),T<W&&(Q/=1-this.angle/90,Q>W&&(Q=W)),T=a.toCoordinate(this.pullOutRadius,Q),Q=(0<=o?Q-1.8*(o+T):Q-1.8*T)/2);Q<this.minRadius&&(Q=this.minRadius);T=U(this.pullOutRadius,Q);i=a.toCoordinate(this.startRadius,Q);U=U(this.innerRadius,Q);U>=Q&&(U=Q-1);P=a.fitToBounds(this.startAngle,0,360);0<this.depth3D&&(P=270<=P?270:90);P-=90;360<P&&(P-=360);W=Q-Q*this.angle/90;for(S=M=0;S<Z.length;S++){V=Z[S],!0!==V.hidden&&(M+=a.roundTo(V.percents,this.pf.precision))}M=a.roundTo(M,this.pf.precision);this.tempPrec=NaN;this.adjustPrecision&&100!=M&&(this.tempPrec=this.pf.precision+1);for(var H,S=0;S<Z.length;S++){if(V=Z[S],!0!==V.hidden&&(this.showZeroSlices||0!==V.percents)){var K=360*V.percents/100,M=Math.sin((P+K/2)/180*Math.PI),J=W/Q*-Math.cos((P+K/2)/180*Math.PI),N=this.outlineColor;N||(N=V.color);var F=this.alpha;isNaN(V.alpha)||(F=V.alpha);N={fill:V.color,stroke:N,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":F};V.url&&(N.cursor="pointer");N=a.wedge(X,O,L,P,K,Q,W,U,this.depth3D,N,this.gradientRatio,V.pattern,this.path,this.gradientType);a.setCN(this,N,"pie-item");a.setCN(this,N.wedge,"pie-slice");a.setCN(this,N,V.className,!0);this.addEventListeners(N,V);V.startAngle=P;Z[S].wedge=N;0<Y&&(this.chartCreated||N.setAttr("opacity",this.startAlpha));V.ix=M;V.iy=J;V.wedge=N;V.index=S;V.label=null;F=X.set();if(this.labelsEnabled&&this.labelText&&V.percents>=this.hideLabelsPercent){var R=P+K/2;0>R&&(R+=360);360<R&&(R-=360);var G=o;isNaN(V.labelRadius)||(G=V.labelRadius,0>G&&(V.skipTick=!0));var K=O+M*(Q+G),I=L+J*(Q+G),k,s=0;isNaN(H)&&350<R&&1<Z.length-S&&(H=S-1+Math.floor((Z.length-S)/2));if(0<=G){var j;90>=R&&0<=R?(j=0,k="start",s=8):90<=R&&180>R?(j=1,k="start",s=8):180<=R&&270>R?(j=2,k="end",s=-8):270<=R&&354>=R?(j=3,k="end",s=-8):354<=R&&(S>H?(j=0,k="start",s=8):(j=3,k="end",s=-8));V.labelQuarter=j}else{k="middle"}R=this.formatString(this.labelText,V);(G=this.labelFunction)&&(R=G(V,R));G=V.labelColor;G||(G=this.color);""!==R&&(R=a.wrappedText(X,R,G,this.fontFamily,this.fontSize,k,!1,this.maxLabelWidth),a.setCN(this,R,"pie-label"),a.setCN(this,R,V.className,!0),R.translate(K+1.5*s,I),0>o&&(R.node.style.pointerEvents="none"),R.node.style.cursor="default",V.ty=I,V.textX=K+1.5*s,F.push(R),this.axesSet.push(F),V.labelSet=F,V.label=R,this.addEventListeners(F,V));V.tx=K;V.tx2=K+s;V.tx0=O+M*Q;V.ty0=L+J*Q}K=U+(Q-U)/2;V.pulled&&(K+=T);this.accessible&&this.accessibleLabel&&(I=this.formatString(this.accessibleLabel,V),this.makeAccessible(N,I));void 0!==this.tabIndex&&N.setAttr("tabindex",this.tabIndex);V.balloonX=M*K+O;V.balloonY=J*K+L;V.startX=Math.round(M*i);V.startY=Math.round(J*i);V.pullX=Math.round(M*T);V.pullY=Math.round(J*T);this.graphsSet.push(N);if(0===V.alpha||0<Y&&!this.chartCreated){N.hide(),F&&F.hide()}P+=360*V.percents/100;360<P&&(P-=360)}}0<o&&this.arrangeLabels();this.pieXReal=O;this.pieYReal=L;this.radiusReal=Q;this.innerRadiusReal=U;0<o&&this.drawTicks();this.initialStart();this.setDepths()}(Z=this.legend)&&Z.invalidateSize()}else{this.cleanChart()}this.dispDUpd()},setDepths:function(){var f=this.chartData,e;for(e=0;e<f.length;e++){var h=f[e],g=h.wedge,h=h.startAngle;0<=h&&180>h?g.toFront():180<=h&&g.toBack()}},arrangeLabels:function(){var f=this.chartData,e=f.length,h,g;for(g=e-1;0<=g;g--){h=f[g],0!==h.labelQuarter||h.hidden||this.checkOverlapping(g,h,0,!0,0)}for(g=0;g<e;g++){h=f[g],1!=h.labelQuarter||h.hidden||this.checkOverlapping(g,h,1,!1,0)}for(g=e-1;0<=g;g--){h=f[g],2!=h.labelQuarter||h.hidden||this.checkOverlapping(g,h,2,!0,0)}for(g=0;g<e;g++){h=f[g],3!=h.labelQuarter||h.hidden||this.checkOverlapping(g,h,3,!1,0)}},checkOverlapping:function(t,s,r,q,m){var o,l,p=this.chartData,j=p.length,i=s.label;if(i){if(!0===q){for(l=t+1;l<j;l++){p[l].labelQuarter==r&&(o=this.checkOverlappingReal(s,p[l],r))&&(l=j)}}else{for(l=t-1;0<=l;l--){p[l].labelQuarter==r&&(o=this.checkOverlappingReal(s,p[l],r))&&(l=0)}}!0===o&&200>m&&isNaN(s.labelRadius)&&(o=s.ty+3*s.iy,s.ty=o,i.translate(s.textX,o),this.checkOverlapping(t,s,r,q,m+1))}},checkOverlappingReal:function(h,e,l){var k=!1,i=h.label,j=e.label;h.labelQuarter!=l||h.hidden||e.hidden||!j||(i=i.getBBox(),l={},l.width=i.width,l.height=i.height,l.y=h.ty,l.x=h.tx,h=j.getBBox(),j={},j.width=h.width,j.height=h.height,j.y=e.ty,j.x=e.tx,a.hitTest(l,j)&&(k=!0));return k}})})();